ins 2:
    "trigger"
    "seqBuffer"

outs 1

init:
    seqBuffer = Buffer(input_num = 2)
    bufPosition = -1
    outVal = 0.0

    prevInVal = 0.0

sample:
    trig = in1
    
    #Transition
    if prevInVal - trig >= 0.9: 
        bufPosition += 1
        bufPosition = bufPosition % seqBuffer.len()
        outVal = seqBuffer[bufPosition]

    out1 = outVal

    prevInVal = trig